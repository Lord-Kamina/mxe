This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Gregorio Litenstein <g.litenstein@gmail.com>
Date: Wed, 9 Oct 2019 17:38:50 -0300
Subject: [PATCH 1/1] Add some missing libraries for linking
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

We shouldnâ€™t need the hack to disable the statically-linked common part of the library now.

Patch originally by Guilherme Lima Bernal <dev@lbguilherme.com>

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 1111111..2222222 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1087,6 +1087,7 @@ IF(HAVE_WINDOWS_H)
                 SET(BACKENDS  "${BACKENDS} WinMM,")
                 SET(ALC_OBJS  ${ALC_OBJS} Alc/backends/winmm.c)
                 SET(EXTRA_LIBS winmm ${EXTRA_LIBS})
+                SET(PKG_CONFIG_LIBS "${PKG_CONFIG_LIBS} -lwinmm")
             ENDIF()
         ENDIF()
     ENDIF()
@@ -1101,6 +1102,7 @@ IF(HAVE_WINDOWS_H)
             SET(ALC_OBJS  ${ALC_OBJS} Alc/backends/dsound.c)
             ADD_BACKEND_LIBS(${DSOUND_LIBRARIES})
             SET(INC_PATHS ${INC_PATHS} ${DSOUND_INCLUDE_DIRS})
+            SET(PKG_CONFIG_LIBS "${PKG_CONFIG_LIBS} -luuid -lole32")
         ENDIF()
     ENDIF()
 
@@ -1112,6 +1114,7 @@ IF(HAVE_WINDOWS_H)
             SET(HAVE_WASAPI 1)
             SET(BACKENDS  "${BACKENDS} WASAPI,")
             SET(ALC_OBJS  ${ALC_OBJS} Alc/backends/wasapi.c)
+            SET(PKG_CONFIG_LIBS "${PKG_CONFIG_LIBS} -lole32")
         ENDIF()
     ENDIF()
 
@@ -1738,6 +1741,7 @@ IF(ALSOFT_EXAMPLES)
                 MESSAGE(STATUS "libswresample is too old! (${SWRESAMPLE_VERSION}, wanted 2.3.100)")
                 SET(FFVER_OK FALSE)
             ENDIF()
+            SET(PKG_CONFIG_LIBS "${PKG_CONFIG_LIBS} -luuid -lole32")
         ENDIF()
         IF(FFVER_OK)
             ADD_EXECUTABLE(alffplay examples/alffplay.cpp)
